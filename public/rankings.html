<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rankings - QuakeChile - QuakeClub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <style>
        /* Additional styles for rankings tables */
        .rankings-hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/images/hero-bg.jpg');
            background-size: cover;
            background-position: center;
            height: 40vh;
            display: flex;
            align-items: center;
            color: white;
            text-align: center;
            margin-top: 0;
            padding-top: 0;
        }

        .rankings-hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .rankings-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .rankings-hero p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        .rankings-section {
            padding: 1.5rem 0 3rem 0;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/images/qlaiback.jpg');
            background-size: auto 140%; /* Controla la escala de la imagen */
            background-position: center top;
            background-repeat: no-repeat;
            background-attachment: fixed; /* Mantiene la imagen fija durante el desplazamiento */
            color: white;
        }

        .rankings-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
        }

        .rankings-table th, 
        .rankings-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        .rankings-table th {
            background-color: var(--dark-color-light);
            color: var(--light-color);
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9rem;
            cursor: pointer;
            position: relative;
        }

        .rankings-table th.sortable::after {
            content: "↕️";
            position: absolute;
            right: 8px;
            opacity: 0.5;
            font-size: 0.8em;
        }

        .rankings-table th.sorted-asc::after {
            content: "↑";
            opacity: 1;
        }

        .rankings-table th.sorted-desc::after {
            content: "↓";
            opacity: 1;
        }

        .rankings-table tr:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .rankings-table tr:last-child td {
            border-bottom: none;
        }

        .game-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .game-tab {
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            background-color: var(--dark-color-light);
            color: var(--text-color);
        }

        .game-tab.active {
            background-color: var(--primary-color);
            color: white;
        }

        .game-tab:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .win-rate {
            color: var(--success-color);
            font-weight: bold;
        }

        .player-stats {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .player-name {
            font-weight: bold;
        }

        .rating-high {
            color: var(--success-color);
        }

        .rating-medium {
            color: var(--warning-color);
        }

        .rating-low {
            color: var(--danger-color);
        }

        /* Button styles retained for other UI elements */
        .btn-primary {
            background-color: var(--primary-color);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            border: none;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="container">
                <div class="logo">
                    <a href="/">
                        <img src="/images/logo.png" alt="Quake Community Logo" id="logo-img">
                        <span>QuakeChile - QuakeClub</span>
                    </a>
                </div>
                <div class="nav-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <ul class="nav-menu">
                    <li><a href="/">Inicio</a></li>
                    <li><a href="/quake2">Quake 2</a></li>
                    <li><a href="/quakelive">Quake Live</a></li>
                    <li><a href="/rankings" class="active">Rankings</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <!-- Rankings Hero Section -->
        <section class="rankings-hero">
            <div class="container">
                <div class="rankings-hero-content">
                    <h1>Rankings de Jugadores</h1>
                    <p>Estadísticas y clasificación de los mejores jugadores de Quake 2 y Quake Live</p>
                </div>
            </div>
        </section>

        <!-- Quake 2 Rankings Section (hidden) -->
        <section class="rankings-section" id="quake2-rankings" style="display: none;">
            <div class="container">
                <div class="game-tabs">
                    <div class="game-tab" id="quakelive-tab">Quake Live</div>
                    <div class="game-tab" id="standings-tab">Tabla de Posiciones</div>
                </div>
                <h2 class="section-title">Rankings de Quake 2</h2>
                <table class="rankings-table">
                    <thead>
                        <tr>
                            <th>Posición</th>
                            <th>Nick</th>
                            <th>Victorias</th>
                            <th>Derrotas</th>
                            <th>Mapas Jugados</th>
                            <th>Mapas Perdidos</th>
                            <th>% WinRate</th>
                            <th>FPR</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td class="player-name">FragLord</td>
                            <td>85</td>
                            <td>15</td>
                            <td>120</td>
                            <td>20</td>
                            <td class="win-rate">85%</td>
                            <td class="rating-high">1.85</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td class="player-name">RocketQueen</td>
                            <td>78</td>
                            <td>22</td>
                            <td>110</td>
                            <td>28</td>
                            <td class="win-rate">78%</td>
                            <td class="rating-high">1.72</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td class="player-name">ThunderBolt</td>
                            <td>65</td>
                            <td>35</td>
                            <td>95</td>
                            <td>42</td>
                            <td class="win-rate">65%</td>
                            <td class="rating-medium">1.55</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td class="player-name">RailSniper</td>
                            <td>62</td>
                            <td>38</td>
                            <td>90</td>
                            <td>45</td>
                            <td class="win-rate">62%</td>
                            <td class="rating-medium">1.48</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td class="player-name">QuadKing</td>
                            <td>58</td>
                            <td>42</td>
                            <td>85</td>
                            <td>50</td>
                            <td class="win-rate">58%</td>
                            <td class="rating-medium">1.42</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td class="player-name">BFGMaster</td>
                            <td>51</td>
                            <td>49</td>
                            <td>80</td>
                            <td>55</td>
                            <td class="win-rate">51%</td>
                            <td class="rating-medium">1.38</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td class="player-name">NailGunner</td>
                            <td>45</td>
                            <td>55</td>
                            <td>75</td>
                            <td>62</td>
                            <td class="win-rate">45%</td>
                            <td class="rating-low">1.20</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td class="player-name">ShotgunPro</td>
                            <td>40</td>
                            <td>60</td>
                            <td>70</td>
                            <td>68</td>
                            <td class="win-rate">40%</td>
                            <td class="rating-low">1.15</td>
                        </tr>
                    </tbody>
                </table>
                <p class="rankings-note" style="text-align: center; margin-top: 1rem; color: var(--text-color-muted);">
                    FPR: Frags Por Ronda - Promedio de frags conseguidos por cada ronda de juego
                </p>
            </div>
        </section>

        <!-- Quake Live Rankings Section -->
        <section class="rankings-section" id="quakelive-rankings">
            <div class="container">
                <div class="game-tabs">
                    <div class="game-tab active" id="quakelive-tab-alt">Quake Live</div>
                    <div class="game-tab" id="standings-tab-alt">Tabla de Posiciones</div>
                </div>
                <h2 class="section-title">Ranking Damage QuakeLive</h2>
                <table class="rankings-table" id="quakelive-table">
                    <thead>
                        <tr>
                            <th>Posición</th>
                            <th>JUGADOR</th>
                            <th class="sortable" data-sort="damage">DAMAGE POR ROUND</th>
                            <th class="sortable" data-sort="kd">K/D Ratio</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td class="player-name">forxak</td>
                            <td class="rating-high">367</td>
                            <td class="rating-high">1,7</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td class="player-name">seriously</td>
                            <td class="rating-high">349</td>
                            <td class="rating-high">1,5</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td class="player-name">BIZHOPT</td>
                            <td class="rating-high">339</td>
                            <td class="rating-high">1,6</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td class="player-name">M4Y0</td>
                            <td class="rating-high">323</td>
                            <td class="rating-high">1,5</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td class="player-name">sg4_</td>
                            <td class="rating-high">322</td>
                            <td class="rating-high">1,4</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td class="player-name">-=SiNdIoS=-</td>
                            <td class="rating-high">315</td>
                            <td class="rating-medium">1,1</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td class="player-name">makEr</td>
                            <td class="rating-high">315</td>
                            <td class="rating-high">1,4</td>
                        </tr>
                        <tr>
                            <td>8</td>
                            <td class="player-name">ka0z</td>
                            <td class="rating-high">314</td>
                            <td class="rating-medium">1,3</td>
                        </tr>
                        <tr>
                            <td>9</td>
                            <td class="player-name">NGR</td>
                            <td class="rating-high">313</td>
                            <td class="rating-medium">1,3</td>
                        </tr>
                        <tr>
                            <td>10</td>
                            <td class="player-name">Y n s t</td>
                            <td class="rating-high">311</td>
                            <td class="rating-low">0,9</td>
                        </tr>
                        <tr>
                            <td>11</td>
                            <td class="player-name">forest</td>
                            <td class="rating-high">307</td>
                            <td class="rating-medium">1,3</td>
                        </tr>
                        <tr>
                            <td>12</td>
                            <td class="player-name">Etjx</td>
                            <td class="rating-high">303</td>
                            <td class="rating-high">1,7</td>
                        </tr>
                        <tr>
                            <td>13</td>
                            <td class="player-name">Pipe</td>
                            <td class="rating-medium">298</td>
                            <td class="rating-medium">1,0</td>
                        </tr>
                        <tr>
                            <td>14</td>
                            <td class="player-name">PhD</td>
                            <td class="rating-medium">295</td>
                            <td class="rating-medium">1,2</td>
                        </tr>
                        <tr>
                            <td>15</td>
                            <td class="player-name">Cram</td>
                            <td class="rating-medium">285</td>
                            <td class="rating-medium">1,0</td>
                        </tr>
                        <tr>
                            <td>16</td>
                            <td class="player-name">EPM</td>
                            <td class="rating-medium">284</td>
                            <td class="rating-low">0,9</td>
                        </tr>
                        <tr>
                            <td>17</td>
                            <td class="player-name">Cacality</td>
                            <td class="rating-medium">282</td>
                            <td class="rating-low">0,9</td>
                        </tr>
                        <tr>
                            <td>18</td>
                            <td class="player-name">sbs</td>
                            <td class="rating-medium">281</td>
                            <td class="rating-low">0,8</td>
                        </tr>
                        <tr>
                            <td>19</td>
                            <td class="player-name">Rodri.</td>
                            <td class="rating-medium">278</td>
                            <td class="rating-low">0,8</td>
                        </tr>
                        <tr>
                            <td>20</td>
                            <td class="player-name">cRvx</td>
                            <td class="rating-medium">275</td>
                            <td class="rating-low">0,8</td>
                        </tr>
                        <tr>
                            <td>21</td>
                            <td class="player-name">Geze</td>
                            <td class="rating-medium">269</td>
                            <td class="rating-low">0,9</td>
                        </tr>
                        <tr>
                            <td>22</td>
                            <td class="player-name">VictimofFate</td>
                            <td class="rating-medium">268</td>
                            <td class="rating-low">0,8</td>
                        </tr>
                        <tr>
                            <td>23</td>
                            <td class="player-name">xFuture</td>
                            <td class="rating-medium">268</td>
                            <td class="rating-medium">1,1</td>
                        </tr>
                        <tr>
                            <td>24</td>
                            <td class="player-name">KHYRON</td>
                            <td class="rating-medium">265</td>
                            <td class="rating-low">0,7</td>
                        </tr>
                        <tr>
                            <td>25</td>
                            <td class="player-name">Ica</td>
                            <td class="rating-medium">261</td>
                            <td class="rating-medium">1,0</td>
                        </tr>
                        <tr>
                            <td>26</td>
                            <td class="player-name">Firehawk</td>
                            <td class="rating-medium">257</td>
                            <td class="rating-low">0,8</td>
                        </tr>
                        <tr>
                            <td>27</td>
                            <td class="player-name">UFO</td>
                            <td class="rating-medium">243</td>
                            <td class="rating-low">0,8</td>
                        </tr>
                        <tr>
                            <td>28</td>
                            <td class="player-name">++El Pastor++</td>
                            <td class="rating-medium">239</td>
                            <td class="rating-low">0,8</td>
                        </tr>
                        <tr>
                            <td>29</td>
                            <td class="player-name">Augor</td>
                            <td class="rating-medium">239</td>
                            <td class="rating-low">0,5</td>
                        </tr>
                        <tr>
                            <td>30</td>
                            <td class="player-name">Uzi</td>
                            <td class="rating-low">186</td>
                            <td class="rating-low">0,3</td>
                        </tr>
                    </tbody>
                </table>
                <p class="rankings-note" style="text-align: center; margin-top: 1rem; color: var(--text-color-muted);">
                    DAMAGE POR ROUND: Promedio de daño infligido por cada ronda de juego - K/D Ratio: Relación Kills/Deaths
                </p>
            </div>
        </section>
        <!-- Challonge Standings Table Section -->
        <section class="rankings-section" id="standings-rankings" style="display: none;">
            <div class="container">
                <div class="game-tabs">
                    <div class="game-tab" id="quakelive-tab-standings">Quake Live</div>
                    <div class="game-tab active" id="standings-tab-standings">Tabla de Posiciones</div>
                </div>
                <h2 class="section-title">Tabla de Posiciones</h2>
                <div class="challonge-container" style="margin-top: 2rem;">
                    <iframe src="https://challonge.com/ad8jn9xn/module" width="100%" height="690" frameborder="0" scrolling="auto" allowtransparency="true"></iframe>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="/images/logo.png" alt="Quake Community Logo">
                    <p>QuakeChile - QuakeClub</p>
                </div>
                <div class="footer-links">
                    <h3>Enlaces Rápidos</h3>
                    <ul>
                        <li><a href="/">Inicio</a></li>
                        <li><a href="/quake2">Quake 2</a></li>
                        <li><a href="/quakelive">Quake Live</a></li>
                        <li><a href="/rankings">Rankings</a></li>
                    </ul>
                </div>
                <div class="footer-social">
                    <h3>Síguenos</h3>
                    <div class="social-icons">
                        <a href="https://discord.gg/Vpx7zV6e" target="_blank"><i class="fab fa-discord"></i></a>
                        <a href="https://www.twitch.tv/quakeclub" target="_blank"><i class="fab fa-twitch"></i></a>
                        <a href="https://www.youtube.com/@QuakeClubCL" target="_blank"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 QuakeChile - QuakeClub. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="/js/main.js"></script>
    <script src="/js/rankings.js"></script>
    <script>
        // Additional script for standings tab functionality and table sorting
        document.addEventListener('DOMContentLoaded', () => {
            // Get tab elements
            const quakeliveTab = document.getElementById('quakelive-tab');
            const standingsTab = document.getElementById('standings-tab');
            const quakeliveTabAlt = document.getElementById('quakelive-tab-alt');
            const standingsTabAlt = document.getElementById('standings-tab-alt');
            const quakeliveTabStandings = document.getElementById('quakelive-tab-standings');
            
            // Get section elements
            const quakeliveRankings = document.getElementById('quakelive-rankings');
            const standingsRankings = document.getElementById('standings-rankings');
            
            // Add click handlers for main tabs
            if (standingsTab) {
                standingsTab.addEventListener('click', () => {
                    // Update active tabs
                    standingsTab.classList.add('active');
                    quakeliveTab.classList.remove('active');
                    
                    // Show standings, hide quake live
                    standingsRankings.style.display = 'block';
                    quakeliveRankings.style.display = 'none';
                });
            }
            
            if (quakeliveTab) {
                quakeliveTab.addEventListener('click', () => {
                    // Update active tabs
                    quakeliveTab.classList.add('active');
                    standingsTab.classList.remove('active');
                    
                    // Show quake live, hide standings
                    quakeliveRankings.style.display = 'block';
                    standingsRankings.style.display = 'none';
                });
            }
            
            // Add click handlers for alt tabs
            if (standingsTabAlt) {
                standingsTabAlt.addEventListener('click', () => {
                    // Update active tabs
                    standingsTabAlt.classList.add('active');
                    quakeliveTabAlt.classList.remove('active');
                    
                    // Show standings, hide quake live
                    standingsRankings.style.display = 'block';
                    quakeliveRankings.style.display = 'none';
                });
            }
            
            if (quakeliveTabAlt) {
                quakeliveTabAlt.addEventListener('click', () => {
                    // Update active tabs
                    quakeliveTabAlt.classList.add('active');
                    standingsTabAlt.classList.remove('active');
                    
                    // Show quake live, hide standings
                    quakeliveRankings.style.display = 'block';
                    standingsRankings.style.display = 'none';
                });
            }
            
            // Add click handler for standings section tabs
            if (quakeliveTabStandings) {
                quakeliveTabStandings.addEventListener('click', () => {
                    // Update active tabs
                    quakeliveTabAlt.classList.add('active');
                    standingsTabAlt.classList.remove('active');
                    
                    // Show quake live, hide standings
                    quakeliveRankings.style.display = 'block';
                    standingsRankings.style.display = 'none';
                });
            }
            
            // Table sorting functionality
            const table = document.getElementById('quakelive-table');
            if (table) {
                const headers = table.querySelectorAll('th.sortable');
                let currentSortColumn = null;
                let currentSortDirection = 'desc'; // Default to descending (highest damage first)
                
                headers.forEach(header => {
                    header.addEventListener('click', () => {
                        // Get column type and index
                        const columnType = header.getAttribute('data-sort');
                        const columnIndex = Array.from(header.parentNode.children).indexOf(header);
                        
                        // Toggle sort direction if clicking the same column
                        if (currentSortColumn === columnType) {
                            currentSortDirection = currentSortDirection === 'asc' ? 'desc' : 'asc';
                        } else {
                            currentSortDirection = 'desc'; // Default to descending for new column
                            currentSortColumn = columnType;
                            
                            // Reset all header indicators
                            headers.forEach(h => {
                                h.classList.remove('sorted-asc', 'sorted-desc');
                            });
                        }
                        
                        // Update visual indicator
                        header.classList.remove('sorted-asc', 'sorted-desc');
                        header.classList.add(currentSortDirection === 'asc' ? 'sorted-asc' : 'sorted-desc');
                        
                        // Get all rows
                        const tbody = table.querySelector('tbody');
                        const rows = Array.from(tbody.querySelectorAll('tr'));
                        
                        // Sort rows
                        rows.sort((a, b) => {
                            const aValue = parseFloat(a.children[columnIndex].textContent.trim());
                            const bValue = parseFloat(b.children[columnIndex].textContent.trim());
                            
                            // Handle NaN values
                            if (isNaN(aValue)) return 1;
                            if (isNaN(bValue)) return -1;
                            
                            // Sort direction
                            return currentSortDirection === 'asc' 
                                ? aValue - bValue 
                                : bValue - aValue;
                        });
                        
                        // Reorder rows in the table
                        rows.forEach((row, index) => {
                            // Update position numbers (first column)
                            row.children[0].textContent = index + 1;
                            tbody.appendChild(row);
                        });
                    });
                });
            }
        });
    </script>
</body>
</html>